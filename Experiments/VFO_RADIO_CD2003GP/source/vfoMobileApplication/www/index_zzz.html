<!DOCTYPE html>
<html>

<head>

    <title>PU2CLR VFO</title>
    <meta charset="utf-8">

    <!-- Resolve o problema de Scroll no Windows 8.1 -->
    <!--meta http-equiv="X-UA-Compatible" content="IE=10"-->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="css/index.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />
    <link rel="stylesheet" href="css/jquery-ui.min.css" />
    <link href="css/euopino-theme.min.css" rel="stylesheet" type="text/css" />
    <link href="css/jquery.rotaryswitch.css" rel="stylesheet" type="text/css">

    <style>
        .container {
            margin: 50px auto;
            max-width: 780px;
        }
    </style>

</head>

<body>
    <div data-role="page" id="pg_bemvindo">

        <div data-role="header" data-position="fixed">
            <h4>VFO - By PU2CLR</h4>
        </div><!-- /header -->

        <div class="container">
            <div>
                <h2>Tune</h2>
                <input type="text" class="rotarySwitch" value="0">
            </div>
        </div>

        <div id="messageDiv">

            <!-- correção para wp8 -->
            <div data-role="footer" data-id="persistent_navbar" data-position="fixed">
                <div data-role="navbar">
                    <ul data-mini="true">
                        <li><a href="#pg_AM" data-transition="flip" data-icon="audio">AM</a></li>
                        <li><a href="#pg_SW" data-transition="flip" data-icon="location">SW</a></li>
                        <li><a href="#pg_FM" data-transition="flip" data-icon="audio">FM</a></li>
                        <li><a href="#pg_VHF" data-transition="flip" data-icon="location">VHF</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="connectionScreen">
            <ul id="deviceList" class="topcoat-list">
            </ul>
            <div style="margin: 10px">
                <button class="topcoat-button" id="refreshButton">Refresh</button>
            </div>
        </div>

        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="cordova.js"></script>
        <script src="js/jquery-1.11.0.min.js" type="text/javascript"></script>
        <script src="js/jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
        <script src="js/jquery-ui.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="js/fastclick.js"></script>
        <script type="text/javascript" src="js/controle.js"></script>
        <script src="js/jquery.rotaryswitch.js"></script>
        <script>
            $(function () {
                // alert ("Aqui");
                var lastPos = parseInt($('.rotarySwitch').val());
                var freq = 500;

                $('.rotarySwitch').rotaryswitch({ themeClass: 'big' });

                var demo = $('.rotarySwitch').rotaryswitch();
                demo.on('change', function () {


                    var currentPos = parseInt($('.rotarySwitch').val());
                    if (currentPos == 0 && lastPos == 29) {
                        freq += 10;
                    } else if (currentPos == 29 && lastPos == 0) {
                        freq -= 10;
                    } else if (currentPos < lastPos) {
                        freq -= 10;
                    } else if (currentPos > lastPos) {
                        freq += 10;
                    }
                    console.log("Anterior: " + lastPos + " Atual: " + currentPos + " => " + freq);
                    lastPos = parseInt($('.rotarySwitch').val());
                });

            });
        </script>

        <script type="text/javascript">
            app.initialize();

        </script>
</body>

</html>